# Используем другой базовый образ, содержащий только JRE
FROM openjdk:17-jdk-alpine

# Установливаем рабочую директорию внутри контейнера
WORKDIR /app

# Копируем JAR-файл из предыдущего этапа внутрь контейнера
COPY ./aggregator.jar .

# Запускаем приложение при старте контейнера
# Опции "--add-opens", "java.base/java.lang=ALL-UNNAMED" - особенность для запуска сервиса уведомлений
CMD ["java", "-jar", "/app/aggregator.jar"]
